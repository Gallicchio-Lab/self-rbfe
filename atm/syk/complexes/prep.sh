#!/bin/bash
#
#SBATCH -J <JOBNAME>
#SBATCH --partition=gpu
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=1
#SBATCH --gpus=1
#SBATCH --account=TG-MCB150001
#SBATCH --no-requeue
#SBATCH -t 90:00:00


. ~/miniconda3/bin/activate atm
for pair in CHEMBL3259820-CHEMBL3259820 CHEMBL3264994-CHEMBL3264994 CHEMBL3264995-CHEMBL3264995 CHEMBL3264996-CHEMBL3264996 CHEMBL3264997-CHEMBL3264997 CHEMBL3264998-CHEMBL3264998 CHEMBL3264999-CHEMBL3264999 CHEMBL3265000-CHEMBL3265000 CHEMBL3265001-CHEMBL3265001 CHEMBL3265002-CHEMBL3265002 CHEMBL3265003-CHEMBL3265003 CHEMBL3265004-CHEMBL3265004 CHEMBL3265005-CHEMBL3265005 CHEMBL3265006-CHEMBL3265006 CHEMBL3265008-CHEMBL3265008 CHEMBL3265009-CHEMBL3265009 CHEMBL3265010-CHEMBL3265010 CHEMBL3265011-CHEMBL3265011 CHEMBL3265012-CHEMBL3265012 CHEMBL3265013-CHEMBL3265013 CHEMBL3265014-CHEMBL3265014 CHEMBL3265015-CHEMBL3265015 CHEMBL3265016-CHEMBL3265016 CHEMBL3265017-CHEMBL3265017 CHEMBL3265018-CHEMBL3265018 CHEMBL3265019-CHEMBL3265019 CHEMBL3265020-CHEMBL3265020 CHEMBL3265021-CHEMBL3265021 CHEMBL3265022-CHEMBL3265022 CHEMBL3265023-CHEMBL3265023 CHEMBL3265024-CHEMBL3265024 CHEMBL3265025-CHEMBL3265025 CHEMBL3265026-CHEMBL3265026 CHEMBL3265027-CHEMBL3265027 CHEMBL3265028-CHEMBL3265028 CHEMBL3265029-CHEMBL3265029 CHEMBL3265030-n-CHEMBL3265030-n CHEMBL3265031-CHEMBL3265031 CHEMBL3265032-CHEMBL3265032 CHEMBL3265033-CHEMBL3265033 CHEMBL3265034-CHEMBL3265034 CHEMBL3265035-CHEMBL3265035 CHEMBL3265036-CHEMBL3265036 CHEMBL3265037-CHEMBL3265037 ; do
    jobname=protein-$pair
    echo "Prepping $jobname"
    ( cd ${jobname} &&  python /home/users/sheenam/AToM-OpenMM/rbfe_structprep.py ${jobname}_asyncre.cntl )  || exit 1
done
